<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>åœ‹é˜²é†«ç”Ÿå­˜èˆ‡ç‰¹æ¬Šæ¸¬é©— Pro | NDMC Privilege Check</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700;900&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ndmc-dark: #1a2e22;
            --ndmc-light: #4a7c59;
            --gold: #d4af37;
        }
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: radial-gradient(circle at top right, #2f4f4f, #0f172a);
            color: #e2e8f0;
            overflow-x: hidden;
        }
        .serif {
            font-family: 'Noto Serif TC', serif;
        }
        
        /* Glassmorphism Card */
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        /* Animations */
        .slide-in-right {
            animation: slideInRight 0.5s cubic-bezier(0.25, 1, 0.5, 1) forwards;
        }
        .slide-out-left {
            animation: slideOutLeft 0.5s cubic-bezier(0.25, 1, 0.5, 1) forwards;
        }
        .fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }

        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideOutLeft {
            from { opacity: 1; transform: translateX(0); }
            to { opacity: 0; transform: translateX(-50px); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 3px; }

        /* Option Button Hover */
        .option-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(212, 175, 55, 0.5);
            transform: translateY(-2px);
        }
        .option-btn.selected {
            background: rgba(212, 175, 55, 0.2);
            border-color: #d4af37;
            color: #fff;
        }

        /* God Mode Animation */
        @keyframes golden-glow {
            0% { box-shadow: 0 0 10px #d4af37; }
            50% { box-shadow: 0 0 30px #ffd700, 0 0 60px #daa520; }
            100% { box-shadow: 0 0 10px #d4af37; }
        }
        .god-mode-active {
            animation: golden-glow 3s infinite;
            border: 2px solid #ffd700;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center relative selection:bg-yellow-500 selection:text-black">

    <!-- Background Elements -->
    <div class="fixed top-0 left-0 w-full h-full overflow-hidden -z-10 pointer-events-none">
        <div class="absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-green-900 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"></div>
        <div class="absolute top-[20%] right-[-10%] w-[400px] h-[400px] bg-blue-900 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"></div>
        <div class="absolute bottom-[-10%] left-[20%] w-[600px] h-[600px] bg-yellow-900 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"></div>
    </div>

    <!-- START SCREEN -->
    <div id="start-screen" class="text-center px-6 max-w-2xl w-full z-10">
        <div class="mb-8">
            <span class="inline-block py-1 px-3 rounded-full bg-yellow-500/20 text-yellow-400 text-xs font-bold tracking-widest border border-yellow-500/30 mb-4">NDMC INSIDER</span>
            <h1 class="text-4xl md:text-6xl font-black serif text-transparent bg-clip-text bg-gradient-to-r from-gray-100 via-gray-300 to-gray-400 mb-4 leading-tight">
                åœ‹é˜²é†«<br><span class="text-yellow-500">ç”Ÿå­˜ç­‰ç´š</span>æ¸¬é©—
            </h1>
            <p class="text-gray-400 text-lg md:text-xl font-light">
                å¾å…§æ¹–ç›£ç„åˆ°æ¢§æ£²çš‡å®®ã€‚<br>æ¸¬æ¸¬ä½ çš„è»æ—…ç”Ÿæ¶¯æ˜¯ Hard Mode é‚„æ˜¯ God Modeã€‚
            </p>
        </div>
        
        <div class="space-y-4">
            <button onclick="startQuiz()" class="group relative w-full md:w-auto px-12 py-4 bg-gradient-to-r from-yellow-600 to-yellow-500 text-black font-bold text-lg rounded-full shadow-[0_0_20px_rgba(234,179,8,0.3)] hover:shadow-[0_0_40px_rgba(234,179,8,0.5)] transition-all duration-300 transform hover:scale-105">
                é–‹å§‹é‘‘æ¸¬
                <span class="absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity">â†’</span>
            </button>
            <p class="text-xs text-gray-500 mt-4">æ³¨æ„ï¼šæœ¬æ¸¬é©—å«æœ‰é«˜æ¿ƒåº¦å¹¹è©±ï¼Œç»ç’ƒå¿ƒè«‹è‡ªè¡Œè½‰è¨ºã€‚</p>
        </div>
    </div>

    <!-- QUIZ SCREEN -->
    <div id="quiz-screen" class="hidden w-full max-w-2xl px-4 flex-col h-screen md:h-auto md:min-h-[600px] justify-center">
        
        <!-- Progress Bar -->
        <div class="w-full h-1 bg-gray-800 rounded-full mb-8 relative overflow-hidden">
            <div id="progress-bar" class="absolute left-0 top-0 h-full bg-yellow-500 transition-all duration-500 ease-out" style="width: 0%"></div>
        </div>

        <!-- Question Card -->
        <div class="glass-card rounded-3xl p-8 md:p-12 relative min-h-[400px] flex flex-col justify-between">
            
            <div id="question-content" class="slide-in-right">
                <span id="category-tag" class="text-xs font-mono text-green-400 mb-2 block uppercase tracking-wider">Category</span>
                <h2 id="question-text" class="text-2xl md:text-3xl font-bold mb-8 leading-snug serif text-white">
                    é¡Œç›®è¼‰å…¥ä¸­...
                </h2>

                <div class="space-y-3">
                    <button onclick="handleAnswer(true)" class="option-btn w-full text-left p-4 rounded-xl border border-gray-600/50 text-gray-300 transition-all duration-200 flex items-center justify-between group">
                        <span class="font-medium group-hover:text-white">æ˜¯ (Yes)</span>
                        <div class="w-4 h-4 rounded-full border border-gray-500 group-hover:bg-yellow-500 group-hover:border-yellow-500 transition-colors"></div>
                    </button>
                    <button onclick="handleAnswer(false)" class="option-btn w-full text-left p-4 rounded-xl border border-gray-600/50 text-gray-300 transition-all duration-200 flex items-center justify-between group">
                        <span class="font-medium group-hover:text-white">å¦ (No)</span>
                        <div class="w-4 h-4 rounded-full border border-gray-500 group-hover:bg-gray-500 transition-colors"></div>
                    </button>
                </div>
            </div>

            <!-- Navigation Controls -->
            <div class="flex justify-between items-center mt-8 pt-6 border-t border-gray-700/50">
                <button onclick="prevQuestion()" id="prev-btn" class="text-sm text-gray-500 hover:text-white transition-colors disabled:opacity-30 disabled:cursor-not-allowed">
                    â† ä¸Šä¸€é¡Œ
                </button>
                <span class="text-xs text-gray-600 font-mono" id="question-counter">1 / 40</span>
            </div>
        </div>
    </div>

    <!-- RESULT SCREEN -->
    <div id="result-screen" class="hidden w-full max-w-3xl px-4 py-10 z-20">
        <div class="glass-card rounded-3xl overflow-hidden shadow-2xl fade-in">
            
            <!-- Result Header -->
            <div class="relative bg-gradient-to-br from-gray-900 to-black p-8 md:p-12 text-center overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20"></div>
                
                <p class="relative z-10 text-yellow-500 text-sm font-bold tracking-[0.2em] uppercase mb-2">Assessment Complete</p>
                <h2 class="relative z-10 text-4xl md:text-6xl font-black serif text-white mb-2" id="result-title">ç¨±è™Ÿè¨ˆç®—ä¸­</h2>
                <div class="relative z-10 text-gray-400 text-lg font-light mb-6" id="result-tagline"></div>

                <!-- Special badge for God Mode -->
                <div id="god-badge" class="hidden relative z-10 inline-flex items-center gap-2 px-4 py-1 rounded-full bg-yellow-500/20 border border-yellow-500/50 text-yellow-400 text-xs font-bold uppercase mb-4">
                    <span>ğŸ‘‘ çš‡å®¤èªè­‰</span>
                </div>

                <div class="relative z-10 flex justify-center items-baseline gap-2">
                    <span class="text-6xl font-mono font-bold text-white" id="final-score">0</span>
                    <span class="text-xl text-gray-500">/ 100</span>
                </div>
            </div>

            <!-- Analysis Body -->
            <div class="p-8 md:p-12 bg-[#121212]">
                <div class="prose prose-invert max-w-none">
                    <h3 class="text-xl font-bold text-gray-200 mb-4 border-l-4 border-yellow-500 pl-4">ç”Ÿå­˜åˆ†æ</h3>
                    <div id="result-description" class="text-gray-400 leading-relaxed space-y-4">
                        <!-- Analysis content will be injected here -->
                    </div>
                </div>

                <div class="mt-10 grid grid-cols-1 md:grid-cols-2 gap-4">
                    <button onclick="restartQuiz()" class="w-full py-4 rounded-xl border border-gray-600 text-gray-300 hover:bg-gray-800 hover:text-white transition-all font-medium">
                        é‡æ–°å—æ¸¬
                    </button>
                    <button onclick="shareResult()" class="w-full py-4 rounded-xl bg-yellow-600 hover:bg-yellow-500 text-black font-bold transition-all shadow-lg hover:shadow-yellow-500/20">
                        åˆ†äº«çµ¦é‚£äº›éå¾ˆçˆ½çš„äºº
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- é¡Œåº«è³‡æ–™ (æ“´å……è‡³ 40 é¡Œ) ---
        // Types: geo(åœ°ç·£), power(æ¬ŠåŠ›), rich(è²¡åŠ›), survival(ç”Ÿå­˜), academic(å­¸æ¥­)
        const questions = [
            // --- GOD TIER (è§¸ç™¼ç‰¹æ®Šçµå±€) ---
            { id: 0, text: "æ‚¨æ˜¯å‚³èªªä¸­ã€Œç«¥é†«é™¢ã€çš„ç¹¼æ‰¿äººï¼Œæˆ–å®¶æ—èˆ‡å…¶æœ‰æ·±åšæ·µæºã€‚", category: "BLOODLINE", weight: 9999, isGod: true },
            
            // --- å±…ä½èˆ‡åœ°ç·£ (1-8) ---
            { id: 1, text: "æ‚¨å¤§ä¸€å‰›å…¥å­¸æ™‚ï¼Œå¯¢å®¤å†·æ°£å°±å¯ä»¥éš¨ä¾¿é–‹ï¼ˆä¸é™æ™‚é–“æ®µï¼‰ã€‚", category: "LIVING", weight: 3 },
            { id: 2, text: "æ‚¨çš„å®¶å°±åœ¨å°åŒ—å¸‚ï¼Œé€±æœ«å›å®¶è»Šç¨‹ä¸è¶…é 40 åˆ†é˜ã€‚", category: "GEO", weight: 2 },
            { id: 3, text: "æ‚¨å¾ä¾†æ²’æœ‰é«”é©—éå¯¢å®¤å‡ºç¾è€é¼ ã€èœˆèš£æˆ–æœƒé£›çš„èŸ‘è‚ã€‚", category: "LIVING", weight: 2 },
            { id: 4, text: "æ‚¨åœ¨æ ¡æœŸé–“ï¼Œæ“æœ‰åœ¨æ ¡å…§åˆæ³•ï¼ˆæˆ–éæ³•ä½†æ²’è¢«æŠ“ï¼‰é¨æ©Ÿè»Š/é–‹è»Šçš„æ¬Šé™ã€‚", category: "POWER", weight: 4 },
            { id: 5, text: "æ‚¨æ“æœ‰å¤–å®¿è¨±å¯ï¼Œæˆ–ç¶“å¸¸æ€§åœ°ã€ŒæŠ€è¡“æ€§å¤–å®¿ã€ä¸”å¾æœªè¢«æŠ“ã€‚", category: "FREEDOM", weight: 5 },
            { id: 6, text: "æ‚¨ä¸éœ€è¦ç‚ºäº†ã€Œæ—©é»åã€è¦åœ¨æ—©ä¸Šå…­é»æ—©èµ·åˆ°æ¨“ä¸‹é›†åˆå¹é¢¨ã€‚", category: "FREEDOM", weight: 3 },
            { id: 7, text: "æ‚¨çš„å¯¢å®¤ä½ç½®æ“æœ‰çµ•ä½³ Wi-Fi è¨Šè™Ÿï¼Œå¾ä¸éœ€è¦ç”¨æ‰‹æ©Ÿåˆ†äº«ç†±é»ã€‚", category: "LIVING", weight: 1 },
            { id: 8, text: "æ‚¨åœ¨å°åŒ—æ“æœ‰è‡ªè³¼æˆ¿ç”¢ï¼ˆéå®¿èˆï¼‰ï¼Œå¯ä»¥éš¨æ™‚å›å»ä¼‘æ¯ã€‚", category: "RICH", weight: 5 },

            // --- éšç´šèˆ‡æ¬ŠåŠ› (9-18) ---
            { id: 9, text: "æ‚¨çš„çˆ¶æ¯æˆ–ç›´ç³»è¡€è¦ªæ˜¯åœ‹é˜²é†«å­¸é™¢çš„æ ¡å‹ï¼ˆè»é†«ä¸–å®¶ï¼‰ã€‚", category: "BACKGROUND", weight: 4 },
            { id: 10, text: "æ‚¨çš„é•·è¼©åå­—æœ‰å‡ºç¾åœ¨å­¸æ ¡ä»»ä½•ä¸€æ£Ÿå¤§æ¨“ã€åœ–æ›¸é¤¨æˆ–è¬›åº§åç¨±ä¸Šã€‚", category: "BACKGROUND", weight: 8 },
            { id: 11, text: "æ‚¨æ“”ä»»éã€Œå¯¦ç¿’å¤§éšŠé•·ã€æˆ–é‡è¦å¹¹éƒ¨ï¼Œä¸”äº«å—éã€Œæ”¯é…ä»–äººã€çš„å¿«æ„Ÿã€‚", category: "POWER", weight: 3 },
            { id: 12, text: "èµ°åœ¨è·¯ä¸Šé‡åˆ°é•·å®˜æˆ–å­¸é•·å§ï¼Œæ‚¨å¯ä»¥ä¸ç”¨æ•¬ç¦®å•å¥½ï¼ˆæˆ–è€…å°æ–¹æœƒå…ˆè·Ÿæ‚¨æ‰“æ‹›å‘¼ï¼‰ã€‚", category: "POWER", weight: 5 },
            { id: 13, text: "æ‚¨æ›¾ç¶“å› ç‚ºã€ŒèƒŒæ™¯éç¡¬ã€ï¼Œé•·å®˜åœ¨ç½µäººæ™‚æœƒåˆ»æ„è·³éæ‚¨ã€‚", category: "BACKGROUND", weight: 6 },
            { id: 14, text: "æ‚¨åˆ†ç§‘é¸é†«é™¢æ™‚ï¼Œåé¡å·²ç¶“ã€Œè¢«å®‰æ’ã€å¥½äº†ï¼Œå®Œå…¨ä¸æ“”å¿ƒæŠ½ç±¤ã€‚", category: "POWER", weight: 7 },
            { id: 15, text: "æ‚¨åœ¨ä¸‰ç¸½å¯¦ç¿’ï¼ˆClerk/Internï¼‰æ™‚ï¼Œè©²ç§‘çš„ä¸»ä»»æ˜¯æ‚¨çˆ¶æ¯çš„æœ‹å‹ã€‚", category: "BACKGROUND", weight: 5 },
            { id: 16, text: "æ‚¨å¾ä¾†æ²’æœ‰å› ç‚ºæ£‰è¢«æŠ˜ä¸å¥½ã€å…§å‹™ä¸æ•´è€Œè¢«ç¦è¶³ã€‚", category: "SURVIVAL", weight: 2 },
            { id: 17, text: "æ‚¨èˆ‡éšŠè·å®˜ï¼ˆéšŠé•·/è¼”å°é•·ï¼‰é—œä¿‚è‰¯å¥½ï¼Œç¶“å¸¸åœ¨è¾¦å…¬å®¤å–èŒ¶èŠå¤©æ»‘æ‰‹æ©Ÿã€‚", category: "SOCIAL", weight: 3 },
            { id: 18, text: "æ‚¨æ“æœ‰å…é™¤éƒ¨åˆ†è»äº‹è¨“ç·´ï¼ˆå¦‚å…¥ä¼è¨“ã€æš‘è¨“ï¼‰çš„ç‰¹æ¬Šæˆ–è¨ºæ–·è­‰æ˜ã€‚", category: "SURVIVAL", weight: 4 },

            // --- ç¶“æ¿Ÿèˆ‡è£å‚™ (19-26) ---
            { id: 19, text: "æ‚¨æ“æœ‰å…¨å¥— Apple ç”Ÿæ…‹ç³»ï¼ˆMacBook, iPad Pro, iPhone, Watch, AirPods Maxï¼‰ã€‚", category: "RICH", weight: 2 },
            { id: 20, text: "æ‚¨å¾ä¾†æ²’æœ‰åƒéé¤å»³çš„è¬ä¹‹ä¸»èœï¼Œå¹¾ä¹é¤é¤å¤–é£Ÿ/UberEatsã€‚", category: "RICH", weight: 3 },
            { id: 21, text: "æ‚¨æœ‰è«‹å®¶æ•™æˆ–å»è£œç¿’ç­æº–å‚™åœ‹è€ƒï¼Œä¸éœ€è¦åªé å…±ç­†æˆ–å­¸é•·å§çš„å‚³æ‰¿ã€‚", category: "RICH", weight: 2 },
            { id: 22, text: "æ‚¨æ”¾å‡å›å®¶æ˜¯æ­é«˜éµå•†å‹™è‰™ï¼Œæˆ–æ˜¯å®¶è£¡é–‹é€²å£è»Šä¾†æ¥é€ã€‚", category: "RICH", weight: 3 },
            { id: 23, text: "æ‚¨ä¸éœ€è¦æ“”å¿ƒæœªä¾†çš„ã€Œè³ å„Ÿè²»ã€å•é¡Œï¼ˆå¦‚æœè¦é€€å­¸/é€€ä¼ï¼Œå®¶è£¡éš¨æ™‚æ‹¿å¾—å‡ºä¾†ï¼‰ã€‚", category: "RICH", weight: 6 },
            { id: 24, text: "æ‚¨çš„é¡¯å¾®é¡ã€è½è¨ºå™¨æˆ–å…¶ä»–å™¨ææ˜¯è‡ªè³¼é ‚ç´šæ¬¾ï¼Œè€Œéç”¨å­¸æ ¡å…¬ç™¼çš„è€èˆŠè¨­å‚™ã€‚", category: "RICH", weight: 2 },
            { id: 25, text: "æ‚¨æ“æœ‰å¥èº«æˆ¿æœƒç±ä¸”æœ‰ç§äººæ•™ç·´ï¼Œä¸åœ¨å­¸æ ¡ç°¡é™‹çš„å¥èº«æˆ¿é‹å‹•ã€‚", category: "LIFESTYLE", weight: 2 },
            { id: 26, text: "æ‚¨æ›¾ç¶“è«‹å…¨ç­/å…¨å¯¢å®¤å–æ˜Ÿå·´å…‹æˆ–é«˜åƒ¹æ‰‹æ–é£²ã€‚", category: "RICH", weight: 3 },

            // --- å­¸æ¥­èˆ‡ç”Ÿå­˜ (27-35) ---
            { id: 27, text: "æ‚¨æ“æœ‰ç›´é”å¤©è½çš„ã€Œè€ƒå¤é¡Œï¼ˆSourceï¼‰ã€ä¾†æºï¼Œä¸”æ˜¯å…¶ä»–äººæ‹¿ä¸åˆ°çš„ç‰ˆæœ¬ã€‚", category: "ACADEMIC", weight: 5 },
            { id: 28, text: "è€ƒå‰ä¸€æ™šæ‰å”¸æ›¸ï¼Œçµæœè€ƒå‡ºä¾†é‚„æ˜¯å…¨ç­å‰äº”åï¼ˆå·å“¥/å·å§ï¼‰ã€‚", category: "TALENT", weight: 4 },
            { id: 29, text: "æ‚¨å¾æœªç¶“æ­·éã€Œæš‘ä¿®ã€çš„ç—›è‹¦ï¼Œæ¯å€‹æš‘å‡éƒ½åœ¨çˆ½ã€‚", category: "ACADEMIC", weight: 2 },
            { id: 30, text: "æ‚¨çš„å¤§é«”è§£å‰–èª²ä¸éœ€è¦è·Ÿåˆ¥äººæ“ ï¼Œæˆ–è€…æœ‰ç®¡é“å¯ä»¥ã€Œç§ä¸‹é ç¿’ã€ã€‚", category: "ACADEMIC", weight: 4 },
            { id: 31, text: "æ‚¨èƒ½å¤ é‚Šè·‘ç¤¾åœ˜ã€é‚Šè«‡æˆ€æ„›ã€é‚Šæ‰“ç³»éšŠï¼Œç„¶å¾Œæˆç¸¾é‚„å®Œå…¨æ²’æ‰ã€‚", category: "TALENT", weight: 3 },
            { id: 32, text: "æ‚¨åœ¨å¯¦é©—å®¤ï¼ˆLabï¼‰è£¡ï¼Œåªè¦è² è²¬æ›åï¼Œå­¸é•·å§æœƒå¹«æ‚¨æŠŠæ•¸æ“šè·‘å¥½ã€‚", category: "POWER", weight: 4 },
            { id: 33, text: "æ‚¨åœ‹è€ƒï¼ˆé†«å¸«/ç‰™é†«/è—¥å¸«ç­‰ï¼‰ä¸€æ¬¡å°±éï¼Œä¸”è¦ºå¾—å…¶å¯¦å¾ˆç°¡å–®ã€‚", category: "TALENT", weight: 3 },
            { id: 34, text: "æ‚¨åœ¨é†«é™¢å¯¦ç¿’æ™‚ï¼Œå¾æœªè¢«å­¸é•·å­¸å§ç½µéï¼Œç”šè‡³è¢«æŠ•é£Ÿã€‚", category: "CHARISMA", weight: 3 },
            { id: 35, text: "æ‚¨å°æ–¼ã€Œ30/33ã€æ•™å®¤åªæœ‰ç¾å¥½å›æ†¶ï¼Œæ²’æœ‰ç—›è‹¦çš„è£œçœ æˆ–è€ƒè©¦è¨˜æ†¶ã€‚", category: "MINDSET", weight: 2 },

            // --- ç¤¾äº¤èˆ‡æƒ…æ„Ÿ (36-40) ---
            { id: 36, text: "æ‚¨çš„å¦ä¸€åŠæ˜¯æ ¡å¤–äººå£«ï¼ˆéè»è·/éé†«è­·ï¼‰ï¼Œä¸”å®Œå…¨æ”¯æŒæ‚¨çš„è»æ ¡ç”Ÿæ´»ã€‚", category: "RELATIONSHIP", weight: 3 },
            { id: 37, text: "æ‚¨æ˜¯ç†±èˆç¤¾ã€ç†±éŸ³ç¤¾æˆ–å…¶ä»–å¤§ç¤¾çš„å¹¹éƒ¨ï¼Œæ“æœ‰æ¥µé«˜çš„æ ¡åœ’çŸ¥ååº¦ã€‚", category: "SOCIAL", weight: 2 },
            { id: 38, text: "æ‚¨åœ¨ç³»ä¸Šæœ‰å°ˆå±¬çš„ã€Œç›´å±¬å­¸é•·å§ã€ç…§æ‡‰ï¼Œè€ƒè©¦é‡é»ã€äºŒæ‰‹æ›¸æºæºä¸çµ•ã€‚", category: "SOCIAL", weight: 2 },
            { id: 39, text: "æ‚¨å¾ä¾†æ²’æœ‰è¢«æŠ“å»å‡ºéã€Œé³¥å…¬å·®ã€ï¼ˆæ¬æ±è¥¿ã€æƒåœ°ã€é™¤è‰ï¼‰ã€‚", category: "LUCK", weight: 2 },
            { id: 40, text: "ç›´åˆ°ç¾åœ¨ï¼Œæ‚¨ä¾ç„¶è¦ºå¾—è®€åœ‹é˜²é†«æ˜¯å€‹ã€Œæ­£ç¢ºä¸”ç¾å¥½ã€çš„é¸æ“‡ã€‚", category: "MINDSET", weight: 1 }
        ];

        // --- ç‹€æ…‹ç®¡ç† ---
        let currentQuestionIndex = 0;
        let score = 0;
        let isGodMode = false;
        let answers = []; // Store user answers

        // --- DOM Elements ---
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        
        const questionText = document.getElementById('question-text');
        const categoryTag = document.getElementById('category-tag');
        const progressBar = document.getElementById('progress-bar');
        const questionCounter = document.getElementById('question-counter');
        const questionContent = document.getElementById('question-content');

        // --- æ ¸å¿ƒåŠŸèƒ½ ---

        function startQuiz() {
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            quizScreen.classList.add('flex');
            renderQuestion();
        }

        function renderQuestion() {
            const q = questions[currentQuestionIndex];
            
            // Animation Reset
            questionContent.classList.remove('slide-in-right', 'slide-out-left');
            void questionContent.offsetWidth; // Trigger reflow
            questionContent.classList.add('slide-in-right');

            // Content Update
            categoryTag.innerText = q.category;
            questionText.innerText = q.text;
            questionCounter.innerText = `${currentQuestionIndex + 1} / ${questions.length}`;
            
            // Update Progress Bar
            const progress = ((currentQuestionIndex) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;

            // Reset buttons style
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
        }

        function handleAnswer(choice) {
            const q = questions[currentQuestionIndex];
            
            // God Mode Check
            if (q.isGod && choice) {
                isGodMode = true;
                showResult();
                return;
            }

            // Normal Logic
            if (choice) {
                score += q.weight;
            }
            
            answers[currentQuestionIndex] = choice;

            // Visual feedback delay
            setTimeout(() => {
                nextQuestion();
            }, 200);
        }

        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                // Animation Out
                questionContent.classList.remove('slide-in-right');
                questionContent.classList.add('slide-out-left');

                setTimeout(() => {
                    currentQuestionIndex++;
                    renderQuestion();
                }, 400); // Wait for animation
            } else {
                showResult();
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                 // Animation Out (Reverse logic conceptually, but keeping simple slide for now)
                questionContent.classList.remove('slide-in-right');
                questionContent.classList.add('slide-out-left');
                
                // Rollback score if needed (Simple version: just re-render, score calc is complex if we subtract. 
                // Better strategy: Recalculate score from answers array on finish, or subtract here)
                // For simplicity in this demo, we will subtract the score of the previous question if it was YES
                const prevQ = questions[currentQuestionIndex - 1];
                if (answers[currentQuestionIndex - 1]) {
                    score -= prevQ.weight;
                }

                setTimeout(() => {
                    currentQuestionIndex--;
                    renderQuestion();
                }, 400);
            }
        }

        function showResult() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            resultScreen.classList.add('block');

            const titleEl = document.getElementById('result-title');
            const taglineEl = document.getElementById('result-tagline');
            const descEl = document.getElementById('result-description');
            const scoreEl = document.getElementById('final-score');
            const godBadge = document.getElementById('god-badge');

            // Max possible score rough calculation: ~130
            // Normalizing score to 0-100 logic for display (except God Mode)
            
            if (isGodMode) {
                titleEl.innerText = "ğŸ‘‘ æ¢§æ£²éœ¸ä¸»";
                taglineEl.innerText = "Tungs' Hierarchy: Level Infinity";
                scoreEl.innerText = "âˆ";
                scoreEl.classList.add('text-yellow-400', 'animate-pulse');
                godBadge.classList.remove('hidden');
                document.querySelector('.glass-card').classList.add('god-mode-active');
                
                descEl.innerHTML = `
                    <p class="text-lg text-white font-bold">é€™ä¸æ˜¯ç‰¹æ¬Šï¼Œé€™æ˜¯çš‡æ¬Šã€‚</p>
                    <p>é€™ä»½æ¸¬é©—å°æ‚¨ä¾†èªªæ¯«ç„¡æ„ç¾©ã€‚ç•¶å…¶ä»–åŒå­¸é‚„åœ¨ç…©æƒ± Intern å…§æ‹›å¤–æ‹›ã€æ“”å¿ƒä¸‹éƒ¨éšŠè¦å»å“ªå€‹é³¥ä¸ç”Ÿè›‹çš„å³¶æ™‚ï¼Œæ‚¨çš„æœªä¾†è—åœ–æ—©å·²åœ¨å®¶æ—çš„é¤æ¡Œä¸Šè¦åŠƒå®Œç•¢ã€‚</p>
                    <p>æ•´å€‹æµ·ç·šéƒ½æ˜¯æ‚¨çš„å¾ŒèŠ±åœ’ï¼Œåœ‹é˜²é†«åªæ˜¯æ‚¨äººç”Ÿå±¥æ­·ä¸Šçš„ä¸€å€‹éå ´ã€‚</p>
                    <p class="mt-4 text-yellow-500 italic">å»ºè­°ï¼šè«‹å¤šè“‹å¹¾æ£Ÿå¤§æ¨“é€ ç¦é„‰é‡Œï¼Œä¸¦è¨˜å¾—ææ‹”é‚£äº›é‚„åœ¨è‹¦æµ·ä¸­çš„åŒå­¸ã€‚</p>
                `;
                return;
            }

            // Normal Results
            scoreEl.innerText = score;
            
            if (score < 15) {
                titleEl.innerText = "ğŸ¥” å…§æ¹–åœ°ç¸›éˆ";
                taglineEl.innerText = "Neihu NPC / The Survivor";
                descEl.innerHTML = `
                    <p><strong>å¤ªæ…˜äº†ã€‚çœŸçš„å¤ªæ…˜äº†ã€‚</strong></p>
                    <p>ä½ åœ¨åœ‹é˜²é†«çš„ç”Ÿæ…‹éˆä¸­ï¼Œå±¬æ–¼æœ€åº•å±¤çš„ã€ŒåŸºè³ªã€ã€‚ä½ è€è€å¯¦å¯¦åœ°éµå®ˆæ‰€æœ‰ä¸åˆç†çš„è¦å®šï¼Œåƒè‘—é›£åš¥çš„ä¼™é£Ÿï¼Œæ¯é€±éƒ½åœ¨å€’æ•¸æ”¾å‡çš„æ™‚é–“ã€‚ä½ æ²’æœ‰èƒŒæ™¯ã€æ²’æœ‰ç‰¹æ¬Šï¼Œåªæœ‰ä¸€é¡†å …æ¯…ï¼ˆæˆ–å·²æ­»ï¼‰çš„å¿ƒã€‚</p>
                    <p>ä½ çš„è»æ—…ç”Ÿæ¶¯å°±æ˜¯ä¸€éƒ¨è¡€æ·šå²ï¼Œä½†ä¹Ÿæ­£å› å¦‚æ­¤ï¼Œä½ æœªä¾†çš„æŠ—å£“æ€§å°‡ç„¡äººèƒ½æ•µã€‚</p>
                `;
            } else if (score < 40) {
                titleEl.innerText = "ğŸ¢ è‹¦å‘½å…¬è²»ç”Ÿ";
                taglineEl.innerText = "The Average Soldier";
                descEl.innerHTML = `
                    <p><strong>é€™å°±æ˜¯å¤§éƒ¨åˆ†äººçš„æ¨£å­ã€‚</strong></p>
                    <p>ä½ å¶çˆ¾èƒ½äº«å—åˆ°ä¸€é»å°ç¢ºå¹¸ï¼ˆæ¯”å¦‚ä»Šå¤©æ²’è¢«é›»ï¼‰ï¼Œä½†å¤§éƒ¨åˆ†æ™‚é–“éƒ½åœ¨é«”åˆ¶å…§æ™æ‰ã€‚ä½ æ‡‚å¾—åœ¨è¦å‰‡é‚Šç·£éŠèµ°ï¼Œä½†ä¸æ•¢å¤ªéæ”¾è‚†ã€‚ä½ çš„ç‰¹æ¬ŠæŒ‡æ•¸åä½ï¼Œä»£è¡¨ä½ çš„æˆå°±æ˜¯é è‡ªå·±ä¸€æ­¥ä¸€è…³å°ï¼ˆå’Œè‚æŒ‡æ•¸ï¼‰æ›ä¾†çš„ã€‚</p>
                    <p>åŠ æ²¹ï¼Œæ’éå°±æ˜¯ä½ çš„ï¼ˆå¤§æ¦‚å§ï¼‰ã€‚</p>
                `;
            } else if (score < 70) {
                titleEl.innerText = "ğŸ¦Š è³‡æ·±è€æ²¹æ¢";
                taglineEl.innerText = "System Hacker";
                descEl.innerHTML = `
                    <p><strong>ä½ å·²ç¶“çœ‹é€äº†é€™å€‹éŠæˆ²ã€‚</strong></p>
                    <p>ä½ çš„ç”Ÿæ´»éå¾—ç›¸ç•¶æ»‹æ½¤ã€‚å¯èƒ½å› ç‚ºå®¶å¢ƒä¸éŒ¯ï¼Œæˆ–è€…ä½ æœ¬èº«é•·è¢–å–„èˆï¼Œæ‡‚å¾—å¦‚ä½•è¨é•·å®˜æ­¡å¿ƒã€‚é‚£äº›è®“åˆ¥äººå´©æ½°çš„é³¥äº‹ï¼Œé€šå¸¸è¼ªä¸åˆ°ä½ é ­ä¸Šã€‚ä½ åœ¨å­¸æ ¡è£¡æ˜¯å€‹ã€Œæœ‰è¾¦æ³•ã€çš„äººã€‚</p>
                    <p>é›–ç„¶ä¸åˆ°å‘¼é¢¨å–šé›¨ï¼Œä½†è‡³å°‘åœ¨å…§æ¹–é€™å¡Šåœ°ï¼Œä½ éå¾—åƒå€‹äººã€‚</p>
                `;
            } else {
                titleEl.innerText = "ğŸ¦ æ˜Ÿç´šæŒ‡æ®å®˜";
                taglineEl.innerText = "Elite Class / The Chosen One";
                descEl.innerHTML = `
                    <p><strong>å­¸æ ¡æ ¹æœ¬æ˜¯ä½ å®¶é–‹çš„å§ï¼Ÿ</strong></p>
                    <p>ä½ é›†çµäº†æ‰€æœ‰çš„å„ªå‹¢æ¨™ç±¤ï¼šè»é†«ä¸–å®¶ã€è²¡åŠ›é›„åšã€å­¸éœ¸é«”è³ªã€‚åˆ¥äººåœ¨åç‰¢ï¼Œä½ åœ¨é«”é©—ã€Œè»äº‹é¢¨è±ªè¯æ¸¡å‡æ‘ã€ã€‚è¦çŸ©å°ä½ ä¾†èªªåªæ˜¯åƒè€ƒï¼Œä½ æ“æœ‰æ¥µå¤§çš„è§£é‡‹æ¬Šã€‚</p>
                    <p>è«‹ä½èª¿ä¸€é»ï¼Œåˆ¥è®“éš”å£å¯¢å®¤é‚£ä½é‚„åœ¨æŠ˜æ£‰è¢«çš„åŒå­¸ç™¼ç¾ä½ éå¾—é€™éº¼çˆ½ã€‚</p>
                `;
            }
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            isGodMode = false;
            answers = [];
            resultScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
            document.querySelector('.glass-card').classList.remove('god-mode-active');
        }

        function shareResult() {
            if (navigator.share) {
                navigator.share({
                    title: 'åœ‹é˜²é†«ç‰¹æ¬Šæ¸¬é©—',
                    text: `æˆ‘åœ¨åœ‹é˜²é†«ç‰¹æ¬Šæ¸¬é©—ä¸­ç²å¾—äº† ${isGodMode ? 'ç„¡é™å¤§' : score} åˆ†ï¼ç¨±è™Ÿï¼š${document.getElementById('result-title').innerText}ã€‚ä½ ä¹Ÿä¾†æ¸¬æ¸¬çœ‹ï¼Ÿ`,
                    url: window.location.href,
                });
            } else {
                alert('è«‹æˆªåœ–åˆ†äº«ï¼è®“å¤§å®¶çœ‹çœ‹ä½ çš„éšç´šã€‚');
            }
        }
    </script>
</body>
</html>

